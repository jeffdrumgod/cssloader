!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.cssloader=t()}(this,function(){"use strict";const e=e=>{const t=new Promise((t,n)=>{if(!/(^css!|\.css$)/.test(e))return n(`Invalid css file: ${e}`);const o=document.styleSheets;for(let r=0,c=o.length;r<c;r+=1)if((o[r].href||"").match(e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\\\$&")))return t(e);const s=document.createElement("link");let u;const f=o=>{try{return s.sheet.rules.length?t(e,u,o.defaultPrevented):n(`No css rules in file: ${e}`)}catch(t){n(`Fail on load css file: ${e}`)}return o};s.rel="stylesheet",s.href=e.replace(/^css!/,""),s.onload=f,s.onbeforeload=f,s.onerror=(()=>{n(`Fail on load css file: ${e}`)});try{document.head.appendChild(s)}catch(t){n(`Fail on load css file: ${e}`)}}).catch(e=>{console.error(e)});return t};return e});
